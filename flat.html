<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script>
var isArray = Array.isArray
function flat(arr) {
	var tmp = [];
	arr.forEach((i,a)=>{
		if(isArray(i)){
			if(i.length){
				if(i.length == 1){
					tmp = isArray(i[0]) ? tmp.concat(i[0]) : tmp.concat(i);
				} else {
					tmp = tmp.concat(flat(i));
				}
			}
		}else{
			tmp.push(i);
		}
	})
	return tmp;
}
var array = [1, 2, [3, [4, [5]]],9];
var array = [1, 2, [3]];
var array = [1, 2, [3, [4, []]],9,[4,[6]],[[2]]];
console.log(flat(array));

</script>

</body>
</html>